<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculates summary statistics for each Relatedness Group in the sample. — RGroupSummary • NlsyLinks</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Calculates summary statistics for each Relatedness Group in the sample. — RGroupSummary"><meta property="og:description" content="Before and after running ACE Models, it is important to examine the characteristics of the different groups.  When the ACE is estimated with an SEM using multiple groups, it is even even more important.  Groups may contain too few subjects to have a well-behaved covariance matrix.
If a group's covariance matrix is not Positive Definite (or it's misbehaving in some other way), it's typically recommended to exclude that group from the SEM."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NlsyLinks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">Datasets &amp; Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/nlsy-links/NlsyLinks" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculates summary statistics for each <em>R</em>elatedness Group in the sample.</h1>
    <small class="dont-index">Source: <a href="https://github.com/nlsy-links/NlsyLinks/blob/master/R/r-group-summary.R" class="external-link"><code>R/r-group-summary.R</code></a></small>
    <div class="hidden name"><code>RGroupSummary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Before and after running ACE Models, it is important to examine the characteristics of the different groups.  When the ACE is estimated with an SEM using multiple groups, it is even even more important.  Groups may contain too few subjects to have a well-behaved covariance matrix.</p>
<p>If a group's covariance matrix is not Positive Definite (or it's misbehaving in some other way), it's typically recommended to exclude that group from the SEM.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RGroupSummary</span><span class="op">(</span></span>
<span>  <span class="va">ds</span>,</span>
<span>  <span class="va">oName_S1</span>,</span>
<span>  <span class="va">oName_S2</span>,</span>
<span>  rName <span class="op">=</span> <span class="st">"R"</span>,</span>
<span>  determinantThreshold <span class="op">=</span> <span class="fl">1e-05</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-ds">ds<a class="anchor" aria-label="anchor" href="#arg-ds"></a></dt>
<dd><p>The <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">base::data.frame</a> containing the following variables:</p></dd>


<dt id="arg-oname-s-">oName_S1<a class="anchor" aria-label="anchor" href="#arg-oname-s-"></a></dt>
<dd><p>The name of the outcome variable corresponding to the first subject in the pair.</p></dd>


<dt id="arg-oname-s-">oName_S2<a class="anchor" aria-label="anchor" href="#arg-oname-s-"></a></dt>
<dd><p>The name of the outcome variable corresponding to the first subject in the pair.</p></dd>


<dt id="arg-rname">rName<a class="anchor" aria-label="anchor" href="#arg-rname"></a></dt>
<dd><p>The name of the variable specifying the pair's <code>Relatedness</code> coefficient.</p></dd>


<dt id="arg-determinantthreshold">determinantThreshold<a class="anchor" aria-label="anchor" href="#arg-determinantthreshold"></a></dt>
<dd><p>The minimum value the covariance matrix's determinant (for the group) should exceed to be considered Positive Definite.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">base::data.frame</a> with one row per group.  The <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">base::data.frame</a> contains the following variables:</p><ul><li><p><strong>R</strong> The group's <code>R</code> value.  Note the name of this variable can be changed by the user, by specifying a non-default value to the <code>rName</code> argument.</p></li>
<li><p><strong>Included</strong> Indicates if the group should be included in a multiple-group SEM.</p></li>
<li><p><strong>PairCount</strong> The number of pairs in the group with <em>complete</em> data for <code>R</code> and the two outcome/manifest variables.</p></li>
<li><p><strong>O1Mean</strong> The mean (of the outcome variable) among the group's first members, excluding the missing values.</p></li>
<li><p><strong>O2Mean</strong> The mean (of the outcome variable) among the group's second members, excluding the missing values.</p></li>
<li><p><strong>O1Variance</strong> The variance (of the outcome variable) among the group's first members.</p></li>
<li><p><strong>O2Variance</strong> The variance (of the outcome variable) among the group's second members.</p></li>
<li><p><strong>O1O2Covariance</strong> The covariance (of the outcome variable) across the group's first and second members.</p></li>
<li><p><strong>Correlation</strong> The correlation (of the outcome variable) across the group's first and second members.</p></li>
<li><p><strong>Determinant</strong> The determinant of the group's covariance matrix.</p></li>
<li><p><strong>PosDefinite</strong> Indicates if the group's covariance matrix is positive definite.</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function isn't specific to an ACE model and groups defined by <code>R</code>.  It could be applied to any multiple-group SEM with two manifest/outcome variables.  In the future, we may generalize it beyond two manifest variables.</p>
<p>To get summary stats for the entire sample, create a dummy indicator variable that assigns everyone to the same group.  See the second example below.</p>
<p>The default determinantThreshold value is nonzero, in order to forgive slight numerical inaccuracies caused by fixed-precision arithmetic.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Please see <a href="http://ibgwww.colorado.edu/workshop2006/cdrom/HTML/book2004a.pdf" class="external-link">Neale &amp; Maes</a> for more information about SEM with multiple groups.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Will Beasley and David Bard</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nlsy-links.github.io/NlsyLinks/">NlsyLinks</a></span><span class="op">)</span> <span class="co"># Load the package into the current R session.</span></span></span>
<span class="r-in"><span><span class="va">dsLinks</span> <span class="op">&lt;-</span> <span class="va">Links79PairExpanded</span> <span class="co"># Load the dataset from the NlsyLinks package.</span></span></span>
<span class="r-in"><span><span class="va">dsLinks</span> <span class="op">&lt;-</span> <span class="va">dsLinks</span><span class="op">[</span><span class="va">dsLinks</span><span class="op">$</span><span class="va">RelationshipPath</span> <span class="op">==</span> <span class="st">"Gen2Siblings"</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">oName_S1</span> <span class="op">&lt;-</span> <span class="st">"MathStandardized_S1"</span> <span class="co"># Stands for Outcome1</span></span></span>
<span class="r-in"><span><span class="va">oName_S2</span> <span class="op">&lt;-</span> <span class="st">"MathStandardized_S2"</span> <span class="co"># Stands for Outcome2</span></span></span>
<span class="r-in"><span><span class="va">dsGroupSummary</span> <span class="op">&lt;-</span> <span class="fu">RGroupSummary</span><span class="op">(</span><span class="va">dsLinks</span>, <span class="va">oName_S1</span>, <span class="va">oName_S2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dsGroupSummary</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       R Included PairCount    O1Mean    O2Mean O1Variance O2Variance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.250     TRUE      2689  95.10450  95.97936   126.9489   150.1775</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.375     TRUE       137  93.63139  93.36861   160.0120   136.6628</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.500     TRUE      5491  99.89374 100.02868   168.7326   172.7293</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.750    FALSE         2 108.50000 106.00000   220.5000    18.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 1.000     TRUE        21  98.21429  96.02381   289.4393   215.2369</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   O1O2Covariance Correlation Determinant PosDefinite</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       41.96914   0.3039577   17303.459        TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       50.39790   0.3408090   19327.735        TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       90.04116   0.5274225   21037.642        TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       63.00000   1.0000000       0.000       FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      229.10714   0.9179130    9807.933        TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Should return:</span></span></span>
<span class="r-in"><span><span class="co">#      R Included PairCount   O1Mean   O2Mean O1Variance O2Variance O1O2Covariance Correlation</span></span></span>
<span class="r-in"><span><span class="co"># 1 0.250     TRUE      2718  94.6439  95.5990    169.650    207.842        41.0783    0.218761</span></span></span>
<span class="r-in"><span><span class="co"># 2 0.375     TRUE       139  92.6043  93.1655    172.531    187.081        40.4790    0.225311</span></span></span>
<span class="r-in"><span><span class="co"># 3 0.500     TRUE      5511  99.8940 100.1789    230.504    232.971       107.3707    0.463336</span></span></span>
<span class="r-in"><span><span class="co"># 4 0.750    FALSE         2 108.5000 106.0000    220.500     18.000        63.0000    1.000000</span></span></span>
<span class="r-in"><span><span class="co"># 5 1.000     TRUE        22  98.6364  95.5455    319.195    343.117       277.5887    0.838789</span></span></span>
<span class="r-in"><span><span class="co">#  Determinant PosDefinite</span></span></span>
<span class="r-in"><span><span class="co"># 1     33573.0        TRUE</span></span></span>
<span class="r-in"><span><span class="co"># 2     30638.7        TRUE</span></span></span>
<span class="r-in"><span><span class="co"># 3     42172.2        TRUE</span></span></span>
<span class="r-in"><span><span class="co"># 4         0.0       FALSE</span></span></span>
<span class="r-in"><span><span class="co"># 5     32465.6        TRUE</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To get summary stats for the whole sample, create one large inclusive group.</span></span></span>
<span class="r-in"><span><span class="va">dsLinks</span><span class="op">$</span><span class="va">Dummy</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">dsSampleSummary</span> <span class="op">&lt;-</span> <span class="fu">RGroupSummary</span><span class="op">(</span><span class="va">dsLinks</span>, <span class="va">oName_S1</span>, <span class="va">oName_S2</span>, rName <span class="op">=</span> <span class="st">"Dummy"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Dummy Included PairCount   O1Mean   O2Mean O1Variance O2Variance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1     TRUE      8340 98.24454 98.60504   160.6817   168.9103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   O1O2Covariance Correlation Determinant PosDefinite</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       78.80601   0.4783524    20930.41        TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Should return:</span></span></span>
<span class="r-in"><span><span class="co">#  Dummy Included PairCount   O1Mean   O2Mean O1Variance O2Variance O1O2Covariance</span></span></span>
<span class="r-in"><span><span class="co"># 1     1     TRUE      8392 98.07162 98.56864    216.466   229.2988       90.90266</span></span></span>
<span class="r-in"><span><span class="co">#  Correlation Determinant PosDefinite</span></span></span>
<span class="r-in"><span><span class="co"># 1   0.4080195     41372.1        TRUE</span></span></span>
<span class="r-in"><span><span class="co">###</span></span></span>
<span class="r-in"><span><span class="co">### ReadCsvNlsy79</span></span></span>
<span class="r-in"><span><span class="co">###</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">filePathGen2</span> <span class="op">&lt;-</span> <span class="st">"~/Nlsy/Datasets/gen2-birth.csv"</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu"><a href="ReadCsvNlsy79.html">ReadCsvNlsy79Gen2</a></span><span class="op">(</span>filePath <span class="op">=</span> <span class="va">filePathGen2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by William Howard Beasley, Joseph Lee Rodgers, David Bard, Michael D. Hunter, Patrick O’Keefe, Kelly Meredith Williams, S. Mason Garrison.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

