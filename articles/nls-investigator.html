<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The NLS Investigator • NlsyLinks</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="The NLS Investigator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NlsyLinks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">Datasets &amp; Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nlsy-links/NlsyLinks" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The NLS Investigator</h1>
                        <h4 data-toc-skip class="author">William Howard
<a href="https://scholar.google.com/citations?user=ffsJTC0AAAAJ" class="external-link">Beasley</a>
(Howard Live Oak LLC, Norman)</h4>
                        <h4 data-toc-skip class="author">Joseph Lee <a href="https://www.vanderbilt.edu/psychological_sciences/bio/joe-rodgers" class="external-link">Rodgers</a>
(Vanderbilt University, Nashville)</h4>
                        <h4 data-toc-skip class="author">David <a href="https://medicine.ouhsc.edu/Academic-Departments/Pediatrics/Sections/Developmental-Behavioral-Pediatrics/Faculty/david-e-bard-phd" class="external-link">Bard</a>
(University of Oklahoma Health Sciences Center, OKC)</h4>
                        <h4 data-toc-skip class="author">Michael D. <a href="https://acquia-prod.hhd.psu.edu/contact/michael-hunter" class="external-link">Hunter</a>
(Georgia Tech, Atlanta)</h4>
            
            <h4 data-toc-skip class="date">2025-03-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/nls-investigator.Rmd" class="external-link"><code>vignettes/nls-investigator.Rmd</code></a></small>
      <div class="hidden name"><code>nls-investigator.Rmd</code></div>

    </div>

    
    
<p>This vignette will be useful to behavior genetic researchers
interested in using the National Longitudinal Survey of Youth (NLSY79)
or Children (NLSYC) data. To fit biometrical models to the NLSY or NLSYC
requires that the data be extracted from the appropriate online NLSY
database into a usable file format. The extracting software is called
the <a href="https://www.nlsinfo.org/investigator/pages/login.jsp" class="external-link">NLS
Investigator</a>. We describe how to use the NLS Investigator to select
and download variables. In <a href="https://nlsy-links.github.io/NlsyLinks/articles/">subsequent
vignettes</a>, we show how to reformat the data into file structures
that accommodate behavior genetic research, and how to fit biometrical
models. The following steps are not specific to R, but rather precede
the use of any analytic statistical software.</p>
<div class="section level2">
<h2 id="terminology">Terminology<a class="anchor" aria-label="anchor" href="#terminology"></a>
</h2>
<p>This package considers both Nlsy79 Gen1 and Gen2 subjects. ‘Gen1’
refers to subjects in the original NLSY79 sample (<a href="https://www.nlsinfo.org/content/cohorts/nlsy79" class="external-link uri">https://www.nlsinfo.org/content/cohorts/nlsy79</a>). ‘Gen2’
subjects are the biological offspring of the Gen1 females
-<em>i.e.</em>, those in the NLSY79 Children and Young Adults sample (<a href="https://www.nlsinfo.org/content/cohorts/nlsy79-children" class="external-link uri">https://www.nlsinfo.org/content/cohorts/nlsy79-children</a>).
The Nlsy97 is a third dataset that can be used for behavior genetic
research (<a href="https://www.nlsinfo.org/content/cohorts/nlsy97" class="external-link uri">https://www.nlsinfo.org/content/cohorts/nlsy97</a>),
although this vignette focuses on the two generations in the NLSY79.</p>
<p>Standard terminology is to refer second generation subjects as
‘children’ when they are younger than age 15 (NSLYC), and as ‘young
adults’ when they are 15 and older (NLSY79-YA); though they are the same
respondents, different funding mechanisms and different survey items
necessitate the distinction. This cohort is sometimes abbreviated as
‘NLSY79-C’, ‘NLSY79C’, ‘NLSY-C’ or ‘NLSYC’. This packages uses ‘Gen2’ to
refer to subjects of this generation, regardless of their age at the
time of the survey.</p>
</div>
<div class="section level2">
<h2 id="steps-to-select-variables-and-download-data">Steps to Select Variables and Download Data<a class="anchor" aria-label="anchor" href="#steps-to-select-variables-and-download-data"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Browse to [<a href="https://www.nlsinfo.org/investigator" class="external-link uri">https://www.nlsinfo.org/investigator</a>]. Select the
‘REGISTER’ link in the top right, and create a personal account. If you
have already registered, Log In and proceed to the next step.</p></li>
<li>
<p>Select your desired cohort, in the dropdown box titled, “Select
the study you want to work with:’’. In the screenshot below, second
generation of the NLSY79 sample is selected.</p>
<p><a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Cohort.png?raw=T" class="external-link"><img src="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Cohort.png?raw=T" style="width: 500px;"></a></p>
</li>
<li>
<p>Select the variables. There are tens of thousands of variables in
some cohorts, and selecting the correct ones can require careful
attention and a few tricks. A thorough tutorial begins on the NLS
Investigator page: [<a href="https://www.nlsinfo.org/content/access-data-investigator/investigator-user-guide" class="external-link uri">https://www.nlsinfo.org/content/access-data-investigator/investigator-user-guide</a>].
To better leverage the NLSY’s extensive variable set (and to avoid
mistakes), we recommend that researchers dedicate time to this tutorial.
However for the purposes of this vignette, we’ll simply select a few
easy variables.</p>
<p>First, in the ‘Variables Search’ tab, select ‘Word in Title (enter
search term)’. Second, type “other symptom - f” in the textbox. Third,
clicking the ‘Display Variables’ button should retrieve at least four
NLSYC variables whose title starts with “other symptom - f”. Fourth,
supposing we care about only their fevers, click their two corresponding
checkboxes. (If you’re curious, the ‘XRND’ value for year stands for <a href="https://www.nlsinfo.org/nls138.pdf" class="external-link">cross round</a>; XRND
variables are calculated by the NLS staff, and typically come from the
subject’s most recent survey).</p>
<p><a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Select.png?raw=T" class="external-link"><img src="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Select.png?raw=T" style="width: 750px;"></a></p>
</li>
<li>
<p>Review your selected variables by clicking the corresponding tab.
Notice that several important variables are automatically included in
every dataset. In real research these steps are iterated many times, as
you repeated select, then review, then save, then re-select, then
re-review, then… But we’ll move on, because these seven variables are
good enough for an example.</p>
<p><a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Review.png?raw=T" class="external-link"><img src="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Review.png?raw=T" style="width: 750px;"></a></p>
</li>
<li>
<p>When the dataset is complete, it is time to save the tagset. A
<strong>tagset file</strong> is simply metadata of the desired
variables. The file identifies the variables, <em>but does not contain
actual data values</em>. As your project evolves over time (because
you’re adding variables, or refreshing your dataset after a new survey
is released), it’s convenient to keep the metadata distinct from the
real data.</p>
<p>The actual values are contained in the <strong>data file</strong>,
which is discussed in the next two steps. These issues are covered
further in the <a href="https://www.nlsinfo.org/content/access-data-investigator/investigator-user-guide" class="external-link">official
tutorial</a>.</p>
<p><a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Tagset.png?raw=T" class="external-link"><img src="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/Tagset.png?raw=T" style="width: 750px;"></a></p>
</li>
<li>
<p>The first step of the download process is to create the data file
on the NLS server. Click the ‘Save/Download’ tab, and then the ‘Advanced
Download’ tab. As far as the NlsyLinks package is concerned, only the
the ‘Comma-delimited datafile…’ box needs to be checked. Then provide a
‘Data filename’. Finally, click the ‘Start Download’ button.</p>
<p><a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/DownloadStep1.png?raw=T" class="external-link"><img src="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/DownloadStep1.png?raw=T" style="width: 750px;"></a></p>
</li>
<li>
<p>The second step of the download process is to transfer the zip
file to your local computer. Click the maroon ‘download’ hyperlink.</p>
<p><a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/DownloadStep2.png?raw=T" class="external-link"><img src="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/DownloadStep2.png?raw=T" style="width: 750px;"></a></p>
</li>
<li><p>Open the zip file and extract the *.csv file to a location that
the vignette examples have permission to read. Then try some of the
NlsyLinks vignette examples at <a href="https://cran.r-project.org/package=NlsyLinks" class="external-link uri">https://cran.r-project.org/package=NlsyLinks</a>.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="using-multiple-tagsets">Using Multiple Tagsets<a class="anchor" aria-label="anchor" href="#using-multiple-tagsets"></a>
</h2>
<p>Tagsets were introduced in Step 5, but are discussed more thoroughly
here. Tagsets make large projects more manageable in two ways. First,
they save effort and reduce errors because you don’t have to re-select
all the variables every time you revisit the NLS Investigator. You can
save and load the tagsets during subsequent sessions. In fact, you can
save multiple tagsets on the NLS server.</p>
<p>Second, using <em>multiple</em> tagsets provides a convenient
approach to organize and compartmentalize your variables. It’s not
unusual for some complicated longitudinal studies to use hundreds of
NLSY variables. We’ve found it easier to manage five tagsets of ~100
variables, than one tagset of 500. Since all NLSY tagsets (and therefore
their datasets) automatically include the subject ID, merging the
multiple datasets later is trivial with statistical software.</p>
<p>In R, use the <code>merge</code> function; the <code>by</code>
argument should be <code>R0000100</code> for NLSY79 subjects,
<code>C0000100</code> for NLSYC subjects, and <code>R0000100</code> for
NLSY97 subjects. For example, a study about intelligence and teenage
fertility would have one tagset containing the intelligence variables,
and a second tagset containing the fertility variables. These two
tagsets eventually could produce two CSV data files called
<code>IQ.csv</code> and <code>Fertility.csv</code>, located in the
<code>BGResearch</code> directory. The R code to read and merge these
two datasets could be as simple as</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dsIQ</span>        <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">'C:/BGResearch/IQ.csv'</span>, header<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">dsFertility</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">'C:/BGResearch/Fertility.csv'</span>, header<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">ds</span>          <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">dsIQ</span>, <span class="va">dsFertility</span>, by<span class="op">=</span><span class="st">"C0000100"</span><span class="op">)</span></span></code></pre></div>
<p>In SAS, the <code>merge</code> function (and its <code>BY</code>
argument) <a href="https://support.sas.com/documentation/cdl/en/basess/58133/HTML/default/viewer.htm#a001318494.htm" class="external-link">behaves
similarly</a> as above. Notice that the SAS documentation states,
“Before you can perform a match-merge, all data sets must be sorted by
the variables that you want to use for the merge”, which is
<code>C0000100</code> in this example.</p>
<p>If you’re importing CSV files specifically for the NlsyLinks package,
you’ll find functions like <code>ReadCsvNlsy79Gen1</code> and
<code>ReadCsvNlsy79Gen2</code> more convenient for later analyses.</p>
</div>
<div class="section level2">
<h2 id="tagset-history">Tagset History<a class="anchor" aria-label="anchor" href="#tagset-history"></a>
</h2>
<p>We recommend saving the tagsets on both the NLS server and your local
machine. Tagsets are not guaranteed to be retained on the NLS server
more than 90 days. Locally save when variables are added or removed from
the tagset in a consistent location, and name the file to reflect the
current date. The files can be read with any simple text editor. The
directory below contains the partial evolution of four distinct tagsets
(i.e., ‘Gen1Links’, ‘Gen2Links’, ‘Gen2ImplicitFather’,
‘Gen2LinksFromGen1’).</p>
<p><a href="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/TagsetBackups.png?raw=T" class="external-link"><img src="https://github.com/nlsy-links/NlsyLinks/blob/master/vignettes/GraphicsNlsInvestigator/TagsetBackups.png?raw=T" style="width: 750px;"></a></p>
</div>
<div class="section level2">
<h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a>
</h2>
<p>This package’s development has been supported by two grants from NIH.
The first, NIH Grant <a href="https://taggs.hhs.gov/Detail/AwardDetail?arg_awardNum=R01HD065865&amp;arg_ProgOfficeCode=50" class="external-link">1R01HD65865</a>,
“NLSY Kinship Links: Reliable and Valid Sibling Identiﬁcation” (PI: Joe
Rodgers; Vignette Construction by Will Beasley) supported the
(virtually) final completion of the NLSY79 and NLSYC/YA kinship linking
files. The second, NIH Grant <a href="https://reporter.nih.gov/project-details/9239744" class="external-link">1R01HD087395</a>,
“New NLSY Kinship Links and Longitudinal/ Cross-Generational Models:
Cognition and Fertility Research,” (PI: Joe Rodgers; Vignette
Construction by Will Beasley) is supporting the development of the
NLSY97 kinship links, and slight updates/extensions in the links for the
two earlier data sources.</p>
<p>These screenshots were taken February and March 2012 with Google
Chrome 17 and Windows 7 SP1 Enterprise. If you notice something that no
longer corresponds to the current version to the NLS Investigator,
please tell us.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by William Howard Beasley, Joseph Lee Rodgers, David Bard, Michael D. Hunter, Patrick O’Keefe, Kelly Meredith Williams, S. Mason Garrison.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
